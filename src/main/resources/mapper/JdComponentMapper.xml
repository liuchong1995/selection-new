<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jidong.productselection.dao.JdComponentMapper">
  <resultMap id="BaseResultMap" type="com.jidong.productselection.entity.JdComponent">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="component_id" jdbcType="INTEGER" property="componentId" />
    <result column="component_name" jdbcType="VARCHAR" property="componentName" />
    <result column="component_reamrk" jdbcType="VARCHAR" property="componentReamrk" />
    <result column="component_model_number" jdbcType="VARCHAR" property="componentModelNumber" />
    <result column="component_short_number" jdbcType="VARCHAR" property="componentShortNumber" />
    <result column="component_detail" jdbcType="VARCHAR" property="componentDetail" />
    <result column="is_deleted" jdbcType="BIT" property="isDeleted" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="creator" jdbcType="VARCHAR" property="creator" />
    <result column="component_key" jdbcType="VARCHAR" property="componentKey" />
    <result column="first_category_id" jdbcType="INTEGER" property="firstCategoryId" />
    <result column="last_category_id" jdbcType="INTEGER" property="lastCategoryId" />
    <result column="component_image" jdbcType="CHAR" property="componentImage" />
    <result column="product_id" jdbcType="INTEGER" property="productId" />
    <result column="component_type" jdbcType="INTEGER" property="componentType" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    component_id, component_name, component_reamrk, component_model_number, component_short_number, 
    component_detail, is_deleted, create_time, update_time, creator, component_key, first_category_id, 
    last_category_id, component_image, product_id, component_type
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from jd_component
    where component_id = #{componentId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from jd_component
    where component_id = #{componentId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.jidong.productselection.entity.JdComponent">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into jd_component (component_id, component_name, component_reamrk, 
      component_model_number, component_short_number, 
      component_detail, is_deleted, create_time, 
      update_time, creator, component_key, 
      first_category_id, last_category_id, component_image, 
      product_id, component_type)
    values (#{componentId,jdbcType=INTEGER}, #{componentName,jdbcType=VARCHAR}, #{componentReamrk,jdbcType=VARCHAR}, 
      #{componentModelNumber,jdbcType=VARCHAR}, #{componentShortNumber,jdbcType=VARCHAR}, 
      #{componentDetail,jdbcType=VARCHAR}, #{isDeleted,jdbcType=BIT}, #{createTime,jdbcType=TIMESTAMP}, 
      #{updateTime,jdbcType=TIMESTAMP}, #{creator,jdbcType=VARCHAR}, #{componentKey,jdbcType=VARCHAR}, 
      #{firstCategoryId,jdbcType=INTEGER}, #{lastCategoryId,jdbcType=INTEGER}, #{componentImage,jdbcType=CHAR}, 
      #{productId,jdbcType=INTEGER}, #{componentType,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.jidong.productselection.entity.JdComponent">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into jd_component
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="componentId != null">
        component_id,
      </if>
      <if test="componentName != null">
        component_name,
      </if>
      <if test="componentReamrk != null">
        component_reamrk,
      </if>
      <if test="componentModelNumber != null">
        component_model_number,
      </if>
      <if test="componentShortNumber != null">
        component_short_number,
      </if>
      <if test="componentDetail != null">
        component_detail,
      </if>
      <if test="isDeleted != null">
        is_deleted,
      </if>
      <if test="createTime != null">
        create_time,
      </if>
      <if test="updateTime != null">
        update_time,
      </if>
      <if test="creator != null">
        creator,
      </if>
      <if test="componentKey != null">
        component_key,
      </if>
      <if test="firstCategoryId != null">
        first_category_id,
      </if>
      <if test="lastCategoryId != null">
        last_category_id,
      </if>
      <if test="componentImage != null">
        component_image,
      </if>
      <if test="productId != null">
        product_id,
      </if>
      <if test="componentType != null">
        component_type,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="componentId != null">
        #{componentId,jdbcType=INTEGER},
      </if>
      <if test="componentName != null">
        #{componentName,jdbcType=VARCHAR},
      </if>
      <if test="componentReamrk != null">
        #{componentReamrk,jdbcType=VARCHAR},
      </if>
      <if test="componentModelNumber != null">
        #{componentModelNumber,jdbcType=VARCHAR},
      </if>
      <if test="componentShortNumber != null">
        #{componentShortNumber,jdbcType=VARCHAR},
      </if>
      <if test="componentDetail != null">
        #{componentDetail,jdbcType=VARCHAR},
      </if>
      <if test="isDeleted != null">
        #{isDeleted,jdbcType=BIT},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="creator != null">
        #{creator,jdbcType=VARCHAR},
      </if>
      <if test="componentKey != null">
        #{componentKey,jdbcType=VARCHAR},
      </if>
      <if test="firstCategoryId != null">
        #{firstCategoryId,jdbcType=INTEGER},
      </if>
      <if test="lastCategoryId != null">
        #{lastCategoryId,jdbcType=INTEGER},
      </if>
      <if test="componentImage != null">
        #{componentImage,jdbcType=CHAR},
      </if>
      <if test="productId != null">
        #{productId,jdbcType=INTEGER},
      </if>
      <if test="componentType != null">
        #{componentType,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.jidong.productselection.entity.JdComponent">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update jd_component
    <set>
      <if test="componentName != null">
        component_name = #{componentName,jdbcType=VARCHAR},
      </if>
      <if test="componentReamrk != null">
        component_reamrk = #{componentReamrk,jdbcType=VARCHAR},
      </if>
      <if test="componentModelNumber != null">
        component_model_number = #{componentModelNumber,jdbcType=VARCHAR},
      </if>
      <if test="componentShortNumber != null">
        component_short_number = #{componentShortNumber,jdbcType=VARCHAR},
      </if>
      <if test="componentDetail != null">
        component_detail = #{componentDetail,jdbcType=VARCHAR},
      </if>
      <if test="isDeleted != null">
        is_deleted = #{isDeleted,jdbcType=BIT},
      </if>
      <if test="createTime != null">
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="creator != null">
        creator = #{creator,jdbcType=VARCHAR},
      </if>
      <if test="componentKey != null">
        component_key = #{componentKey,jdbcType=VARCHAR},
      </if>
      <if test="firstCategoryId != null">
        first_category_id = #{firstCategoryId,jdbcType=INTEGER},
      </if>
      <if test="lastCategoryId != null">
        last_category_id = #{lastCategoryId,jdbcType=INTEGER},
      </if>
      <if test="componentImage != null">
        component_image = #{componentImage,jdbcType=CHAR},
      </if>
      <if test="productId != null">
        product_id = #{productId,jdbcType=INTEGER},
      </if>
      <if test="componentType != null">
        component_type = #{componentType,jdbcType=INTEGER},
      </if>
    </set>
    where component_id = #{componentId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.jidong.productselection.entity.JdComponent">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update jd_component
    set component_name = #{componentName,jdbcType=VARCHAR},
      component_reamrk = #{componentReamrk,jdbcType=VARCHAR},
      component_model_number = #{componentModelNumber,jdbcType=VARCHAR},
      component_short_number = #{componentShortNumber,jdbcType=VARCHAR},
      component_detail = #{componentDetail,jdbcType=VARCHAR},
      is_deleted = #{isDeleted,jdbcType=BIT},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      update_time = #{updateTime,jdbcType=TIMESTAMP},
      creator = #{creator,jdbcType=VARCHAR},
      component_key = #{componentKey,jdbcType=VARCHAR},
      first_category_id = #{firstCategoryId,jdbcType=INTEGER},
      last_category_id = #{lastCategoryId,jdbcType=INTEGER},
      component_image = #{componentImage,jdbcType=CHAR},
      product_id = #{productId,jdbcType=INTEGER},
      component_type = #{componentType,jdbcType=INTEGER}
    where component_id = #{componentId,jdbcType=INTEGER}
  </update>

<!--auto generated by codehelper on 2018-10-18-->
	<select id="findByComponentIdIn" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List" />
        from jd_component
        where component_id in
        <foreach close=")" collection="componentIdList" index="index" item="item" open="(" separator=",">
            #{item,jdbcType=INTEGER}
        </foreach>
        order by component_id desc
    </select>

<!--auto generated by codehelper on 2018-10-23-->
	<select id="findMaxComponentId" resultType="java.lang.Integer">
	select isnull(max(component_id),0) as maxcomponentId
	 from jd_component</select>

<!--auto generated by codehelper on 2018-10-25-->
	<select id="findByLastCategoryIdAndComponentId" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List" />
        from jd_component
        where last_category_id=#{lastCategoryId,jdbcType=INTEGER} and component_id &lt;&gt; #{componentId,jdbcType=INTEGER}
        and is_deleted = 0
        order by component_id desc
    </select>

<!--auto generated by codehelper on 2018-10-27-->
	<select id="findByLastCategoryId" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List" />
        from jd_component
        where last_category_id=#{lastCategoryId,jdbcType=INTEGER}
        and is_deleted = 0
        order by component_id desc
    </select>

    <select id="findByComponentSearchRequest" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List" />
        from jd_component
        <where>
          <if test="searchRequest.isDelete != null">
            is_deleted = #{searchRequest.isDelete}
          </if>
          <if test="searchRequest.productId != null">
            AND product_id = #{searchRequest.productId}
          </if>
          <if test="searchRequest.firstCategoryId != null">
            AND first_category_id = #{searchRequest.firstCategoryId}
          </if>
          <if test="searchRequest.secondCategoryId != null">
            AND last_category_id = #{searchRequest.secondCategoryId}
          </if>
          <if test="searchRequest.componentModelNumber != null and searchRequest.componentModelNumber != ''">
            AND component_model_number like concat('%',#{searchRequest.componentModelNumber},'%')
          </if>
        </where>
    </select>

<!--auto generated by codehelper on 2018-11-04-->
	<update id="updateComponentTypeByComponentId">
	update jd_component
	set component_type=#{updatedComponentType,jdbcType=INTEGER}
	where component_id=#{componentId,jdbcType=INTEGER}
  </update>

<!--auto generated by codehelper on 2018-11-11-->
	<update id="updateIsDeletedByComponentId">
	update jd_component
	set is_deleted=#{updatedIsDeleted,jdbcType=BIT}
	where component_id=#{componentId,jdbcType=INTEGER}</update>

<!--auto generated by codehelper on 2018-11-16-->
	<select id="findByFirstCategoryId" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from jd_component
        where first_category_id=#{firstCategoryId,jdbcType=INTEGER} and is_deleted = 0
        order by component_id desc
    </select>

<!--auto generated by codehelper on 2018-11-28-->
	<select id="findByProductIdAndcomponentModelNumberOrComponentShortNumber" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from jd_component
        <where>
          <if test="productId != null">
            product_id=#{productId,jdbcType=INTEGER}
          </if>
          <if test="componentModelNumber != null and componentShortNumber == null">
            and component_model_number=#{componentModelNumber,jdbcType=VARCHAR}
          </if>
          <if test="componentModelNumber != null and componentShortNumber != null">
            and (component_model_number=#{componentModelNumber,jdbcType=VARCHAR} or component_short_number=#{componentShortNumber,jdbcType=VARCHAR})
          </if>
          <if test="componentModelNumber == null and componentShortNumber != null">
            and component_short_number=#{componentShortNumber,jdbcType=VARCHAR}
          </if>
        </where>
    </select>

<!--auto generated by codehelper on 2018-12-26-->
	<select id="findByLastCategoryIdIn" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from jd_component
        where last_category_id in
        <foreach item="item" index="index" collection="lastCategoryIdList"
                 open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
    </select>
</mapper>